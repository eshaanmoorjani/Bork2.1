(this.webpackJsonpbork2=this.webpackJsonpbork2||[]).push([[0],{55:function(e,t,n){e.exports=n.p+"static/media/pig_logo.d0d99a55.png"},69:function(e,t,n){e.exports=n(95)},86:function(e,t,n){},87:function(e,t,n){},93:function(e,t,n){},94:function(e,t,n){},95:function(e,t,n){"use strict";n.r(t),n.d(t,"renderLogin",(function(){return Y})),n.d(t,"renderPageWithUserID",(function(){return G})),n.d(t,"renderChat",(function(){return K})),n.d(t,"renderLoading",(function(){return Z}));var a=n(18),o=n.n(a),s=n(26),r=n(0),i=n.n(r),c=n(8),l=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(75);u.initializeApp({apiKey:"AIzaSyBriNz3DFDo1ra0CmHC0_ZpoCYnonSWOoo",authDomain:"bork-cc.firebaseapp.com",projectId:"bork-cc",databaseURL:"https://bork-cc.firebaseio.com"});var d=u.auth(),b=u.firestore(),h=u.database(),m=u.functions(),p=(n(86),n(14)),y=n(15),f=n(20),v=n(19),g=n(137),E=n(130),j=n(134),L=(n(87),n(55)),k=n.n(L),C=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{class:"full-frame-login"},this.loginFrame())}},{key:"loginFrame",value:function(){return i.a.createElement("div",{class:"login-frame"},i.a.createElement(O,this.props),i.a.createElement(S,null))}}]),n}(r.Component),O=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{class:"form-frame"},this.description(),i.a.createElement(I,this.props))}},{key:"description",value:function(){return i.a.createElement("div",{class:"descriptions"},i.a.createElement("h2",{class:"main-description"},"Enter Among Us Lobbies!"),i.a.createElement("h3",{class:"sub-description"},i.a.createElement("p",{id:"username-warning"})))}}]),n}(r.Component),I=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).styles={soloStyle:{fontSize:20,background:"linear-gradient(45deg, #2196F3 5%, #21CBF3 90%)",color:"white"},createStyle:{height:"100%",width:"100%",borderWidth:1.2,borderColor:"#21CBF3",fontSize:20,color:"#21CBF3"},joinStyle:{height:"100%",width:"100%",borderWidth:1.2,borderColor:"#21CBF3",fontSize:20,color:"#21CBF3"},textFieldStyle:{borderTopRightRadius:"0px",borderBottomRightRadius:"0px",borderTopLeftRadius:"20px",borderBottomLeftRadius:"20px"},buttonStyle:{height:"96%",width:"30%",borderTopRightRadius:"20px",borderBottomRightRadius:"20px",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px",background:"#21CBF3",color:"white"}},a}return Object(y.a)(n,[{key:"render",value:function(){return this.formGrid()}},{key:"formGrid",value:function(){return i.a.createElement(E.a,{container:!0,class:"container"},i.a.createElement(g.a,{class:"username-textfield",id:"username-textfield",variant:"outlined",error:this.props.usernameError,label:"Username",helperText:this.props.usernameHelperText,fullWidth:!0,autoComplete:"off",InputLabelProps:{style:{fontSize:25}},InputProps:{style:{height:65,fontSize:25}},inputProps:{style:{fontSize:40,textAlign:"center"}}}),i.a.createElement(j.a,{className:"solo-queue-button",id:"solo-queue-button",variant:"contained",color:"primary",size:"large",fullWidth:!0,style:this.styles.soloStyle},"Solo Queue"),i.a.createElement(E.a,{item:!0,class:"buttons"},this.createLobbyButtonSet(),this.joinLobbyButtonSet()))}},{key:"createLobbyButtonSet",value:function(){return i.a.createElement("div",{id:"create-lobby-box",onMouseEnter:this.displayChange("create-invis","create-show"),onMouseLeave:this.displayChange("create-show","create-invis")},i.a.createElement(j.a,{id:"create-lobby-button",variant:"outlined",color:"primary",size:"large",fullWidth:!0,style:this.styles.createStyle},"Create Lobby"),this.createLobbyDropdown())}},{key:"joinLobbyButtonSet",value:function(){return i.a.createElement("div",{id:"join-lobby-box",onMouseEnter:this.displayChange("join-invis","join-show"),onMouseLeave:this.displayChange("join-show","join-invis")},i.a.createElement(j.a,{id:"join-lobby-button",variant:"outlined",color:"primary",size:"large",fullWidth:!0,style:this.styles.joinStyle},"Join Lobby"),this.joinLobbyDropdown())}},{key:"createLobbyDropdown",value:function(){return i.a.createElement("div",{class:"create-lobby-div",id:this.props.createLobbyError?"create-show":"create-invis"},i.a.createElement(g.a,{className:"create-lobby-input",hidden:!0,id:"create-lobby-input",variant:"outlined",type:"text",autoComplete:"off",label:"Enter Lobby ID",error:this.props.createLobbyError,helperText:this.props.createLobbyHelperText,InputProps:{style:this.styles.textFieldStyle}}),i.a.createElement(j.a,{id:"create-input-button",variant:"contained",color:"primary",style:this.styles.buttonStyle},i.a.createElement("p",{class:"create-input-text"},"Create!")))}},{key:"joinLobbyDropdown",value:function(){return i.a.createElement("div",{class:"join-lobby-div",id:this.props.joinLobbyError?"join-show":"join-invis"},i.a.createElement(g.a,{className:"join-lobby-input",hidden:!0,id:"join-lobby-input",variant:"outlined",type:"text",autoComplete:"off",label:"Enter Lobby ID",error:this.props.joinLobbyError,helperText:this.props.joinLobbyHelperText,InputProps:{style:this.styles.textFieldStyle}}),i.a.createElement(j.a,{id:"join-input-button",variant:"contained",color:"primary",style:this.styles.buttonStyle},i.a.createElement("p",{class:"join-input-text"},"Join!")))}},{key:"displayChange",value:function(e,t){return function(){var n=document.getElementById(e);null!==n&&n.setAttribute("id",t)}}}]),n}(r.Component),S=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{class:"hog-pub-frame"},this.hogPubHeader(),this.comingSoon(),this.logo())}},{key:"hogPubHeader",value:function(){return i.a.createElement("h1",{class:"header"},"Hog Pub")}},{key:"comingSoon",value:function(){return i.a.createElement("h3",{class:"coming-soon"},"Other games coming soon!")}},{key:"logo",value:function(){return i.a.createElement("img",{class:"logo",src:k.a,alt:"logo"})}}]),n}(r.Component);var D=n(46),x=n(50),w=n(12),B=n(60),M=n(135),T=n(138),F=n(61);n(93);function P(){A(document.getElementById("solo-queue-button"),"soloQueue"),function(){var e=document.getElementById("join-lobby-button"),t=document.getElementById("join-input-button");A(e,"joinLobby"),A(t,"joinLobby")}(),function(){var e=document.getElementById("create-lobby-button"),t=document.getElementById("create-input-button");A(e,"createLobby"),A(t,"createLobby")}()}function N(){!function(){var e=document.getElementById("solo-queue-button");e.parentNode.replaceChild(e.cloneNode(!0),e)}(),function(){var e=document.getElementById("join-lobby-button"),t=document.getElementById("join-input-button");e.parentNode.replaceChild(e.cloneNode(!0),e),t.parentNode.replaceChild(t.cloneNode(!0),t)}(),function(){var e=document.getElementById("create-lobby-button"),t=document.getElementById("create-input-button");e.parentNode.replaceChild(e.cloneNode(!0),e),t.parentNode.replaceChild(t.cloneNode(!0),t)}()}function A(e,t){e.addEventListener("click",function(e){function t(){return(t=Object(s.a)(o.a.mark((function t(){var n,a,s,r,i,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=document.getElementById("username-textfield"),a=n.value,s=z(e),Z(),r=m.httpsCallable("signIn"),t.next=7,r({username:a,chatID:s,signInType:e});case 7:i=t.sent,c=i.data,console.log(c),c.usernameError||c.createLobbyError||c.joinLobbyError?(Y(c.usernameError,c.usernameErrorMessage,c.createLobbyError,c.createLobbyErrorMessage,c.joinLobbyError,c.joinLobbyErrorMessage),N(),P()):K(c.chatID,c.username);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return R((function(){return t.apply(this,arguments)}),2e3)}(t))}function R(e,t){var n=0;return function(){var a=new Date;a-n>=t?(e(),n=a):console.log("waiting")}}function z(e){var t=document.getElementById("join-lobby-input"),n=document.getElementById("create-lobby-input");return"joinLobby"===e?t.value:"createLobby"===e?n.value:null}var H=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={chatID:null,userID:d.currentUser.uid,lobbyType:null,lobbyOpen:null,participants:{},numParticipants:0},a.init=a.init.bind(Object(w.a)(a)),a.handleLogout=a.handleLogout.bind(Object(w.a)(a)),a.changeConnectionStatus=a.changeConnectionStatus.bind(Object(w.a)(a)),a.chatListener=a.chatListener.bind(Object(w.a)(a)),a.getChatID=a.getChatID.bind(Object(w.a)(a)),a.addAllListeners=a.addAllListeners.bind(Object(w.a)(a)),a.init().then((function(){a.addAllListeners()})),a}return Object(y.a)(n,[{key:"render",value:function(){return null===this.state.chatID?null:i.a.createElement("div",{class:"page"},i.a.createElement("div",{class:"full-frame-chat"},i.a.createElement(_,{lobbyID:this.state.chatID,lobbyType:this.state.lobbyType,lobbyOpen:this.state.lobbyOpen,numParticipants:this.state.numParticipants,participants:this.state.participants}),i.a.createElement(W,{chatID:this.state.chatID,userID:this.state.userID,username:this.props.username,initTime:new Date}),i.a.createElement(V,{ref:"videoFrame",videoCallURL:"https://hogpub.daily.co/".concat(this.state.chatID),username:this.props.username})),i.a.createElement(U,{handleLogout:R(this.handleLogout,1e4),handleLobbyStatusChange:this.handleLobbyStatusChange,lobbyType:this.state.lobbyType,lobbyOpen:this.state.lobbyOpen}))}},{key:"componentDidUpdate",value:function(e,t){t.chatID!==this.state.chatID&&this.addAllListeners()}},{key:"addAllListeners",value:function(){this.getChatID(),this.changeConnectionStatus(),this.chatListener()}},{key:"init",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.collection("users").doc(this.state.userID).get().then(function(){var e=Object(s.a)(o.a.mark((function e(n){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.data().chat_id,e.next=3,b.collection("chats").doc(a).get().then((function(e){t.setState({chatID:a,lobbyOpen:e.data().lobby_open,lobbyType:e.data().lobby_type})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getChatID",value:function(){var e=this;b.collection("users").doc(this.state.userID).onSnapshot((function(t){if(!t.exists)return null;var n=t.data().chat_id;e.setState({chatID:n})}))}},{key:"chatListener",value:function(){var e=this,t=b.collection("chats").doc(this.state.chatID);t.onSnapshot((function(n){if(!n.exists)return null;var a=n.data().num_participants,o=n.data().lobby_open,s=n.data().lobby_type;t.collection("participants").orderBy("timestamp").get().then((function(t){var n={};t.forEach((function(e){n[e.data().user_id]=e.data().username})),e.setState({participants:n,numParticipants:a,lobbyOpen:o,lobbyType:s})}))}))}},{key:"changeConnectionStatus",value:function(){h.ref("users/"+this.state.userID+"/is_disconnected").set(!1),h.ref("users/"+this.state.userID+"/is_disconnected").onDisconnect().set(!0).then((function(){console.log(d.currentUser),d.currentUser||alert("poo")}))}},{key:"handleLobbyStatusChange",value:function(){m.httpsCallable("changeLobbyStatus")({})}},{key:"handleLogout",value:function(){var e=Object(s.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.refs.videoFrame&&this.refs.videoFrame.disconnect(),Z(),t=m.httpsCallable("deleteUserInfo"),e.next=5,t({userId:this.state.userID,chatId:this.state.chatID,username:this.props.username}).then((function(e){})).catch((function(e){console.log(e)}));case 5:d.signOut();case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(r.Component),U=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){return Object(p.a)(this,n),t.call(this,e)}return Object(y.a)(n,[{key:"render",value:function(){return i.a.createElement(M.a,{className:"appbar",position:"sticky"},i.a.createElement("div",{className:"toolbar"},i.a.createElement(j.a,{className:"leave-lobby-temp",variant:"contained",color:"secondary",onClick:this.props.handleLogout},"Leave Lobby"),i.a.createElement(j.a,{className:"start-queue-temp",variant:"contained",color:"primary",style:{background:"#2196F3",color:"white"},onClick:this.props.handleLobbyStatusChange},this.getLobbyButtonMessage()),i.a.createElement(j.a,{className:"hog-pub-header-temp",variant:"outlined",color:"primary",style:{height:"80%",color:"white"}},i.a.createElement("h1",null,"The Pub"))))}},{key:"getLobbyButtonMessage",value:function(){return"Premade"===this.props.lobbyType?this.props.lobbyOpen?"Loading...":"Find more players!":this.props.lobbyOpen?"Close Lobby":"Find more players!"}}]),n}(r.Component),_=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={showLobbyID:!1,showLobbyCapacity:!1,showParticipants:!1,menuOpen:!1,anchorEl:null},a.handleLobbyCapacityClick=a.handleLobbyCapacityClick.bind(Object(w.a)(a)),a.handleLobbyIDClick=a.handleLobbyIDClick.bind(Object(w.a)(a)),a.handleParticipantsClick=a.handleParticipantsClick.bind(Object(w.a)(a)),a}return Object(y.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{class:"lobby-frame"},this.misc())}},{key:"misc",value:function(){return i.a.createElement("div",{class:"misc-box"},this.lobbyFrameButton(this.lobbyIDText(),this.handleLobbyIDClick),this.simpleMenu(),this.lobbyFrameButton(this.lobbyCapacityText(),this.handleLobbyCapacityClick))}},{key:"handleLobbyIDClick",value:function(){this.setState({showLobbyID:!this.state.showLobbyID})}},{key:"handleLobbyCapacityClick",value:function(){this.setState({showLobbyCapacity:!this.state.showLobbyCapacity})}},{key:"handleParticipantsClick",value:function(){this.setState({showParticipants:!this.state.showParticipants})}},{key:"lobbyIDText",value:function(){return this.state.showLobbyID?this.props.lobbyID:"Show Lobby ID"}},{key:"lobbyCapacityText",value:function(){return this.state.showLobbyCapacity?this.props.numParticipants+"/10":"Show Lobby Capacity"}},{key:"participantsText",value:function(){return this.state.showParticipants?this.makeParticipants():"Show Participants"}},{key:"lobbyFrameButton",value:function(e,t,n){return i.a.createElement(j.a,{className:"lobby-frame-button",id:n,variant:"outlined",onClick:t,style:{height:"5%",width:"85%",marginLeft:"auto",marginRight:"auto",outline:"none",color:"black",borderColor:"black",boxShadow:"2px 2px 5px -3px black"}},e)}},{key:"simpleMenu",value:function(){var e=this,t=function(){e.setState({menuOpen:!1})};return i.a.createElement(i.a.Fragment,null,this.lobbyFrameButton("Show Participants",(function(t){e.setState({menuOpen:!e.state.menuOpen,anchorEl:t.currentTarget})}),"participants"),i.a.createElement(F.a,{keepMounted:!0,anchorEl:this.state.anchorEl,getContentAnchorEl:null,open:this.state.menuOpen,onClose:t,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},function(){var n=[];for(var a in e.props.participants)n.push(i.a.createElement(T.a,{onClick:t},e.props.participants[a]));return n}()))}}]),n}(r.Component),W=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={numMessagesSent:0,numMessagesReceived:0,messages:{},lastMessageTime:Math.floor(a.props.initTime.getTime()/1e3),messageHelperText:""},a.handleSendMessage=a.handleSendMessage.bind(Object(w.a)(a)),a.sendMessage=a.sendMessage.bind(Object(w.a)(a)),a.makeMessageBubble=a.makeMessageBubble.bind(Object(w.a)(a)),a.getMessages=a.getMessages.bind(Object(w.a)(a)),a.addAllListeners=a.addAllListeners.bind(Object(w.a)(a)),a.addAllListeners(),a}return Object(y.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{class:"chat-frame-no-video",id:"chat-frame"},this.messages(),this.sendMessageBox())}},{key:"componentDidUpdate",value:function(e,t){var n=document.getElementById("dummyScroll");null!=n&&n.scrollIntoView(!0,{behavior:"smooth"}),e.chatID!==this.props.chatID&&this.addAllListeners()}},{key:"addAllListeners",value:function(){this.getMessages()}},{key:"messages",value:function(){return i.a.createElement("div",{class:"messages-frame"},this.makeMessages(),i.a.createElement("div",{id:"dummyScroll"}))}},{key:"makeMessages",value:function(){var e=[];for(var t in this.state.messages)e.push(this.makeMessageBubble(t));return e}},{key:"makeMessageBubble",value:function(e){var t=this.state.messages[e];return"user_content"==t.type?function(e,t){var n=e.userID==t?"user-message":"other-message",a=function(e){var t=e.toTimeString().substr(0,5),n=t.substr(0,2);return 0==n?t="12"+t.substr(2)+" am":n<=12?t+=" am":t=t.substr(0,2)%12+t.substr(2,5)+" pm",t}(new Date(1e3*e.timestamp.seconds));return i.a.createElement("div",{class:n},i.a.createElement("div",{class:"message-bubble"},i.a.createElement("div",{class:"message-metadata"},i.a.createElement("div",{class:"message-username"},e.username),i.a.createElement("div",{class:"message-timestamp"},a)),i.a.createElement("div",{class:"message-content"},e.content)))}(t,this.props.userID):function(e,t){return i.a.createElement("div",{class:"status-msg"},e.content)}(t,this.props.userID)}},{key:"sendMessageBox",value:function(){return i.a.createElement("form",{class:"send-message-form",onSubmit:this.handleSendMessage},i.a.createElement(g.a,{className:"send-message-input",id:"message-input",variant:"outlined",label:"Enter a message",error:this.state.messageHelperText,helperText:this.state.messageHelperText,fullWidth:!0,autoComplete:"off"}))}},{key:"getMessages",value:function(){var e=this;b.collection("chats").doc(this.props.chatID).collection("messages").orderBy("timestamp","desc").limit(1).onSnapshot((function(t){t.forEach((function(t){var n=t.data();e.setState({messages:Object(x.a)(Object(x.a)({},e.state.messages),{},Object(D.a)({},e.state.numMessagesReceived+1,n)),numMessagesReceived:e.state.numMessagesReceived+1,lastMessageTime:n.timestamp.seconds})}))}))}},{key:"handleSendMessage",value:function(e){e.preventDefault();var t=document.getElementById("message-input"),n=t.value;t.value="",""!=n&&(this.setState({numMessagesSent:this.state.numMessagesSent+1}),this.sendMessage(n))}},{key:"sendMessage",value:function(e){var t=this;m.httpsCallable("sendMessage")({message:e,messageNumber:this.state.numMessagesSent}).then((function(e){t.setState({messageHelperText:e.data.verified?"":e.data.message})}))}}]),n}(r.Component),V=function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={callFrame:null},a.joinCall=a.joinCall.bind(Object(w.a)(a)),a.makeCallFrame=a.makeCallFrame.bind(Object(w.a)(a)),a.joinButton=a.joinButton.bind(Object(w.a)(a)),a.addDisconnectListener=a.addDisconnectListener.bind(Object(w.a)(a)),a.addListeners=a.addListeners.bind(Object(w.a)(a)),a}return Object(y.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{class:"video-frame-no-video",id:"video-frame"},this.joinButton())}},{key:"componentDidUpdate",value:function(e,t){e.videoCallURL!==this.props.videoCallURL&&this.disconnect()}},{key:"joinButton",value:function(){return i.a.createElement(j.a,{className:"join-video-button",id:"join-video-button",variant:"contained",color:"primary",style:{marginLeft:"auto",marginRight:"auto"},onClick:this.joinCall},i.a.createElement("p",{class:"join-video-text"},"Join Voice and Video!"))}},{key:"joinCall",value:function(){this.makeCallFrame(),this.state.callFrame.join({url:this.props.videoCallURL}),this.addListeners(),this.cssYesVideo()}},{key:"makeCallFrame",value:function(){var e={iframeStyle:{position:"fixed",left:"16%",top:"8%",width:"48%",height:"90%"},showLeaveButton:!0,showFullscreenButton:!0,userName:this.props.username},t=B.a.createFrame(e);this.state.callFrame=t}},{key:"addListeners",value:function(){this.addDisconnectListener()}},{key:"addDisconnectListener",value:function(){var e=this;this.state.callFrame.on("left-meeting",(function(t){e.state.callFrame.destroy(),e.cssNoVideo()}))}},{key:"disconnect",value:function(){null!==this.state.callFrame&&this.state.callFrame.leave()}},{key:"cssYesVideo",value:function(){var e=document.getElementById("chat-frame"),t=document.getElementById("video-frame");e.setAttribute("class","chat-frame-yes-video"),t.setAttribute("class","video-frame-yes-video")}},{key:"cssNoVideo",value:function(){var e=document.getElementById("chat-frame"),t=document.getElementById("video-frame");e.setAttribute("class","chat-frame-no-video"),t.setAttribute("class","video-frame-no-video")}}]),n}(r.Component),q=n(136),J=(n(94),function(e){Object(f.a)(n,e);var t=Object(v.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(y.a)(n,[{key:"render",value:function(){return i.a.createElement("div",{class:"full-frame-loading"},i.a.createElement("h1",{class:"hog-pub-text"},"Hog Pub"),i.a.createElement("h2",{class:"loading-text"},"Loading..."),i.a.createElement(q.a,{size:100,className:"loading"}))}}]),n}(r.Component));function Y(e,t,n,a,o,s){l.a.render(i.a.createElement(C,{usernameError:e,usernameHelperText:t,createLobbyError:n,createLobbyHelperText:a,joinLobbyError:o,joinLobbyHelperText:s}),document.getElementById("root")),d.setPersistence(u.auth.Auth.Persistence.LOCAL).then((function(){return d.signInAnonymously()}))}function G(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(s.a)(o.a.mark((function e(t){var n,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b.collection("users").doc(t),a="",s="",e.next=5,n.get().then((function(e){e.exists&&(a=e.data().chat_id,s=e.data().username)})).catch((function(e){console.error("broke here ",e)}));case 5:""!==a?K(a,s):(Y(),N(),P());case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function K(e,t){l.a.render(i.a.createElement(H,{chatID:e,username:t}),document.getElementById("root"))}function Z(){l.a.render(i.a.createElement(J,null),document.getElementById("root"))}d.onAuthStateChanged((function(e){e?G(e.uid):(Y(),N(),P())})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[69,1,2]]]);
//# sourceMappingURL=main.44c4ce53.chunk.js.map